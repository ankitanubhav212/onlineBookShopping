{"version":3,"sources":["shopping-cart.svg","component/itemCard.js","component/itemContainer.js","component/checkoutCard.js","component/checkout.js","App.js","reportWebVitals.js","index.js"],"names":["ItemCard","props","item","addCartFun","className","height","width","src","image","alt","title","authors","count","size","value","averageRating","edit","activeColor","style","marginTop","ratingsCount","price","onClick","shopingCart","ItemContainer","history","useHistory","useState","itemList","setItemList","imageList","setImageList","checkedOutItems","setCheckedOutItem","order","setOrder","pageNo","setPageNo","totalPage","setTotalPage","sort","addToCart","axios","post","then","res","data","getItems","get","content","totalElements","useEffect","type","placeholder","onChange","event","target","name","id","onScroll","e","scrollHeight","scrollTop","clientHeight","length","handleScroll","map","index","bookID","Image","cartItems","push","alert","CheckOutCard","deleteFun","updateOrderFun","quantity","setQuantity","product","setPrice","handleQuantity","put","Checkout","handleDelete","delete","updateOrder","updatedOrder","totalPrice","window","location","href","payment_request","longurl","textAlign","to","App","exact","path","render","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7769970f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/shopping-cart.25d65fd4.svg\";","import React from 'react';\nimport shopingCart from '../../src/shopping-cart.svg';\nimport ReactStars from \"react-rating-stars-component\";\n\nexport const ItemCard = (props) => {\n  const { item, addCartFun } = props;\n  return (\n    <div className=\"item-card\">\n      <img height=\"100px\" width=\"100px\" src={item.image} alt={item.title}></img>\n      <div className=\"item-card-title\">{item.title}\n      <div className=\"author\">by {item.authors}</div>\n      </div>\n      <div className=\"flex\"><ReactStars\n    count={5}\n    size={24}\n    value={item.averageRating}\n    edit={false}\n    activeColor=\"#ffd700\"\n  /><div style={{marginTop:'5px'}}>{item.ratingsCount}</div></div>\n  \n      <div className=\"item-card-price\">\n        <span>&#8377;</span>\n        {item.price}\n      </div>\n      <button onClick={()=>addCartFun(item)} className=\"item-card-btn\"><img height=\"18px\" width=\"18px\" src={shopingCart} alt={item}></img>Add to cart</button>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { ItemCard } from './itemCard';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nexport const ItemContainer = (props) => {\n    let history = useHistory();\n    const [itemList, setItemList] = useState([]);\n\n    const [imageList, setImageList] = useState([]);\n    const [checkedOutItems, setCheckedOutItem] = useState([]);\n    const [order, setOrder] = useState({});\n    const [pageNo, setPageNo] = useState(1);\n    const [totalPage, setTotalPage] = useState(0);\n    const [sort, setSort] = useState('averageRating');\n\n\n    const addToCart = (item) => {\n        setCheckedOutItem([...checkedOutItems, item]);\n        axios.post(\"http://localhost:8080/api/additem\", item).then(res => {\n            setOrder(res.data);\n        });\n    }\n\n    const getItems = () => {\n        axios.get(\"http://localhost:8080/api/items?pageNo=\" + pageNo + \"&sort=\"+ sort + \"&search=\")\n            .then((res) => {\n                setItemList([...itemList, ...res.data.content]);\n                setPageNo(pageNo + 1);\n                setTotalPage(res.data.totalElements);\n            });\n    }\n\n    useEffect(() => {\n        getItems();\n        axios.get(\"http://localhost:8080/api/order\")\n            .then((res) => {\n                setOrder(res.data);\n            })\n        axios.get(\"https://s3-ap-southeast-1.amazonaws.com/he-public-data/bookimage816b123.json\")\n            .then((res) => {\n                setImageList(res.data);\n            })\n    }, []);\n\n\n\n    const handleCheckout = () => {\n        if (order.cartItems && order.cartItems.length > 0) {\n            history.push(\"/checkout\");\n        } else {\n            alert(\"Please add item in the cart to checkout\")\n        }\n    }\n\n    const handleScroll = (e) => {\n        const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\n        if (bottom && itemList.length < totalPage) {\n            getItems(pageNo, sort);\n        }\n    }\n\n    const handleSearch = (event) => {\n        axios.get(\"http://localhost:8080/api/items?pageNo=\" + 1 + \"&sort=\"+ sort + \"&search=\" + event.target.value)\n            .then((res) => {\n                setItemList([...res.data.content]);\n                setPageNo(1);\n                setTotalPage(res.data.totalElements);\n            });\n    }\n\n    const handleSort = (event) =>{\n        axios.get(\"http://localhost:8080/api/items?pageNo=\" + 1 + \"&sort=\"+ event.target.value + \"&search=\")\n        .then((res) => {\n            setItemList([...res.data.content]);\n            setPageNo(1);\n            setTotalPage(res.data.totalElements);\n        });\n    }\n\n    return (\n        <div><input type=\"text\" placeholder=\"Search books..\" onChange={handleSearch}></input>\n            <label>Sort By</label>\n            <select onChange={handleSort} name=\"cars\" id=\"cars\">\n                <option value=\"averageRating\">Rating</option>\n                <option value=\"price\">Price</option>\n            </select>\n            <div className=\"container\" onScroll={(e) => handleScroll(e)}>\n                {itemList.map((item, index) => {\n                    item.image = imageList[item.bookID % 10] ? imageList[item.bookID % 10].Image : \"\";\n                    return <ItemCard key={index} item={item} addCartFun={addToCart} />\n                })}\n                <div className=\"footer\"><span>Total Item: {order.cartItems ? order.cartItems.length : 0}</span><button type=\"button\" className=\"checkout-btn\" onClick={() => handleCheckout()}>Checkout</button></div>\n            </div>\n        </div>\n    );\n};","import axios from 'axios';\nimport {React, useState} from 'react';\nexport const CheckOutCard = (props) => {\n    \n    const {item, deleteFun, updateOrderFun}= props;\n\n    const [quantity, setQuantity] = useState(item.quantity);\n    const [price, setPrice] = useState(item.product.price * item.quantity);\n\n\n    const handleQuantity = (event)=>{\n        if(event.target.id === \"add-item\") {\n            axios.post(\"http://localhost:8080/api/additem\",item.product).then(res=>{\n                setQuantity(quantity+1);\n                setPrice(item.product.price * (quantity+1));\n                updateOrderFun(res.data);\n      });\n           \n        } else if(quantity>1) {\n            axios.put(\"http://localhost:8080/api/remove/\"+item.id).then(res=>{\n                setQuantity(quantity-1);\n                setPrice(item.product.price * (quantity-1));\n                updateOrderFun(res.data);\n            });\n        }\n    }\n\n    return (\n        <div className=\"checkout-item-card\">\n        <div className=\"flex\">\n            <img height=\"60px\" width=\"60px\" src={item.image} alt={item.name}></img>\n        <div className=\"ml-20\">\n            <div>{item.product.title}</div>\n            <div>Quantity:<button id=\"add-item\" className=\"add-remove\" onClick={handleQuantity}>+</button>{quantity}<button id=\"remove-item\" onClick={handleQuantity} className=\"add-remove\">-</button><span className=\"icon-separator\"></span> <span onClick={()=>deleteFun(item.id)} className=\"delete-btn\">Delete</span></div>\n        </div>\n        </div>\n        <div>\n            {price}\n        </div>\n        </div>\n    );\n};","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CheckOutCard } from './checkoutCard';\n\nexport const Checkout = () => {\n  const [order, setOrder] = useState({});\n  const [imageList, setImageList] = useState([]);\n\n  const handleDelete = (id) => {\n    axios.delete(\"http://localhost:8080/api/delete/\" + order.id + \"/\" + id).then((res) => {\n      setOrder({ ...res.data });\n    });\n  }\n\n  const updateOrder = (updatedOrder) => {\n    setOrder({ ...updatedOrder })\n  }\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/api/order\")\n      .then((res) => {\n        setOrder(res.data);\n      })\n    axios.get(\"https://s3-ap-southeast-1.amazonaws.com/he-public-data/bookimage816b123.json\")\n      .then((res) => {\n        setImageList(res.data);\n      })\n  }, []);\n\n\n  const handlePayment = () => {\n    axios.get(\"http://localhost:8080/api/payment/\" + order.id + \"?price=\" + order.totalPrice).then((res) => {\n      window.location.href = res.data.payment_request.longurl;\n    });\n  }\n\n  return (\n    <div className=\"checkout\">\n      {order && order.cartItems && order.cartItems.length > 0 ?\n        <div>\n          <div className=\"checkout-table\">\n            {order.cartItems.map((item, index) => {\n              item.image = imageList.length ? imageList[index % 9].Image : '';\n              return <CheckOutCard item={item} updateOrderFun={updateOrder} key={item.product.bookID} deleteFun={handleDelete} />\n            })\n            }\n            <div className=\"sub-total\">SubTotal:{order.totalPrice} </div>\n          </div>\n          <div className=\"proceed-buy\"><button className=\"proceed-btn\" onClick={handlePayment}>Proceed To Payment</button></div>\n        </div> :\n        <div style={{ textAlign: \"center\" }}><Link to=\"/list\">Start Shopping</Link></div>\n      }\n    </div>\n  );\n};","import './App.css';\nimport { BrowserRouter, Redirect, Route } from 'react-router-dom';\nimport { ItemContainer } from './component/itemContainer';\nimport { Checkout } from './component/checkout';\n\nfunction App() {\n  return (\n      <BrowserRouter>\n        <div className=\"app\">\n          <header className=\"app-header\">\n            Online Book Shopping\n        </header>\n          <Route exact path='' render={() => <Redirect to='/list' />} />\n          <Route exact path='/list' component={ItemContainer} />\n          <Route exact path='/checkout' component={Checkout} />\n        </div>\n      </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}